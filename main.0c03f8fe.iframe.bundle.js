(self.webpackChunk_undermuz_react_page_builder=self.webpackChunk_undermuz_react_page_builder||[]).push([[179],{"./.storybook/preview.js-generated-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:()=>__namedExportsOrder,parameters:()=>parameters});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}},__namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/stories/PageBuilder.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ExamplePageBuilder:()=>ExamplePageBuilder,__namedExportsOrder:()=>__namedExportsOrder,default:()=>PageBuilder_stories});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var tslib_es6=__webpack_require__("../react-json-form/node_modules/tslib/tslib.es6.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react_select_esm=__webpack_require__("../react-json-form/node_modules/react-select/dist/react-select.esm.js"),DateInput=__webpack_require__("../react-json-form/node_modules/grommet/es6/components/DateInput/DateInput.js"),Checkbox=__webpack_require__("../react-json-form/node_modules/rsuite/esm/Checkbox/index.js"),Input=__webpack_require__("../react-json-form/node_modules/rsuite/esm/Input/index.js"),index_all=__webpack_require__("../react-json-form/node_modules/underscore/modules/index-all.js");const controls={Input:function(props){var name=props.name,value=props.value,type=props.type,onChange=props.onChange,onBlur=props.onBlur;return(0,jsx_runtime.jsx)(Input.Z,{placeholder:name,name,type:type||"text",value,onChange:function(value){return null==onChange?void 0:onChange(value)},onBlur:function(e){return null==onBlur?void 0:onBlur(e.currentTarget.value)}})},TextBlock:function(props){var name=props.name,value=props.value,_a=props.settings,settings=void 0===_a?{}:_a,onChange=props.onChange,onBlur=props.onBlur;return(0,jsx_runtime.jsx)(Input.Z,(0,tslib_es6.pi)({as:"textarea",value,name},settings,{onBlur:function(e){return null==onBlur?void 0:onBlur(e.currentTarget.value)},onChange:function(value){return null==onChange?void 0:onChange(value)}}))},CheckBox:function(props){var name=props.name,value=props.value,title=props.title,onChange=props.onChange,onBlur=props.onBlur;return(0,jsx_runtime.jsx)(Checkbox.Z,(0,tslib_es6.pi)({checked:Boolean(value),name,onChange:function(v,checked){return null==onChange?void 0:onChange(checked)},onMouseLeave:function(e){return null==onBlur?void 0:onBlur(e.currentTarget.checked)}},{children:title}))},Date:function(props){var value=props.value,onChange=props.onChange;return(0,jsx_runtime.jsx)(DateInput.W,{format:"dd.mm.yyyy",value:value||void 0,onChange:function(_a){var value=_a.value;return null==onChange?void 0:onChange(value)}})},Select:function(props){var name=props.name,value=props.value,_a=props.settings,settings=void 0===_a?{}:_a,onChange=props.onChange,onBlur=props.onBlur,list=(0,index_all.kJ)(value)?value:[];return(0,jsx_runtime.jsx)(react_select_esm.ZP,{isMulti:!!settings.multiple,name,value:settings.multiple?list.map((function(_val){var _a;return{label:(null===(_a=settings.options.find((function(_i){return _i.value==_val})))||void 0===_a?void 0:_a.label)||"(Not found)",value:_val}})):value,options:settings.options,onBlur:function(){return null==onBlur?void 0:onBlur()},onChange:function(_value){if(settings.multiple){var _list=(0,index_all.kJ)(_value)?_value:[];null==onChange||onChange(_list.map((function(_val){return _val.value})))}else null==onChange||onChange(_value)}})}};var Panel=__webpack_require__("../react-json-form/node_modules/rsuite/esm/Panel/index.js"),react=__webpack_require__("./node_modules/react/index.js"),JsonFormComponent=function(props){var id=props.id,title=props.title,_a=props.header,header=void 0===_a?null:_a,_b=props.multiple,multiple=void 0!==_b&&_b,_c=props.primary,primary=void 0===_c||_c,children=props.children,Ui=useJsonFormUi();return(0,jsx_runtime.jsxs)(Ui.Container,{children:[(0,jsx_runtime.jsx)(Ui.Header,(0,tslib_es6.pi)({id,primary,title},{children:header})),(0,jsx_runtime.jsx)(Ui.Body,(0,tslib_es6.pi)({primary,multiple},{children}))]})},UiContext=(0,react.createContext)(null),useJsonFormUi=function(){var Ui=(0,react.useContext)(UiContext);if(!Ui)throw new Error("JsonForm must be wrapped by UiContext.Provider with selected UI");return Ui};const esm_UiContext=UiContext;var EnumSchemeItemType,chakra_ui_layout_esm=__webpack_require__("../react-json-form/node_modules/@chakra-ui/layout/dist/chakra-ui-layout.esm.js"),chakra_ui_tag_esm=__webpack_require__("../react-json-form/node_modules/@chakra-ui/tag/dist/chakra-ui-tag.esm.js");!function(EnumSchemeItemType){EnumSchemeItemType.Text="text",EnumSchemeItemType.TextBlock="text-block",EnumSchemeItemType.TextEditor="text-editor",EnumSchemeItemType.Checkbox="checkbox",EnumSchemeItemType.Files="files",EnumSchemeItemType.Widget="widget",EnumSchemeItemType.Select="select",EnumSchemeItemType.GeoCoordinates="geo",EnumSchemeItemType.Date="date"}(EnumSchemeItemType||(EnumSchemeItemType={}));var emotion_styled_browser_esm=__webpack_require__("../react-json-form/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),Form=__webpack_require__("../react-json-form/node_modules/rsuite/esm/Form/index.js"),Nav=__webpack_require__("../react-json-form/node_modules/rsuite/esm/Nav/index.js"),UiTab=(0,react.forwardRef)((function(props,ref){return(0,jsx_runtime.jsxs)(Nav.Z.Item,(0,tslib_es6.pi)({},props,{ref},{children:[Boolean(props.label)&&props.label,props.children]}))})),TrashContainer=(0,emotion_styled_browser_esm.Z)(chakra_ui_layout_esm.xu)(templateObject_1||(templateObject_1=(0,tslib_es6.cy)(["\n    position: absolute;\n    z-index: 2;\n    top: -30px;\n    left: 0px;\n    width: 100%;\n"],["\n    position: absolute;\n    z-index: 2;\n    top: -30px;\n    left: 0px;\n    width: 100%;\n"]))),UiArrayFormTrashContainer=(0,react.forwardRef)((function(props,ref){return(0,jsx_runtime.jsxs)(TrashContainer,(0,tslib_es6.pi)({ref,animation:{type:"fadeIn",duration:300},border:"2px",borderColor:"red.200",borderStyle:"dashed",backgroundColor:props.isOver?"red.200":"gray.100",p:1},{children:[Boolean(null==props?void 0:props.label)&&(0,jsx_runtime.jsx)(chakra_ui_layout_esm.xv,{children:null==props?void 0:props.label}),props.children]}))}));const ui={Container:function(_a){var children=_a.children;return(0,jsx_runtime.jsx)(chakra_ui_layout_esm.kC,(0,tslib_es6.pi)({direction:"column"},{children}))},Header:function(props){var id=props.id,title=props.title,primary=props.primary,children=props.children;return(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.kC,(0,tslib_es6.pi)({width:"100%",direction:"column",p:primary?3:1,justify:"between",background:primary?"teal.300":"gray.100"},{children:[(0,jsx_runtime.jsxs)(chakra_ui_layout_esm.kC,(0,tslib_es6.pi)({direction:"row",justify:"space-between",gap:"small"},{children:[Boolean(title)&&(0,jsx_runtime.jsx)(chakra_ui_layout_esm.X6,(0,tslib_es6.pi)({as:primary?"h3":"h4",size:primary?"lg":"md",margin:"none"},{children:title})),Boolean(id)&&(0,jsx_runtime.jsxs)(chakra_ui_tag_esm.Vp,{children:["#",id]})]})),children]}))},Body:function(props){var primary=props.primary,children=props.children;return(0,jsx_runtime.jsx)(chakra_ui_layout_esm.kC,(0,tslib_es6.pi)({direction:"column",p:primary?4:0,pl:0},{children}))},FlatForm:function(_a){var _b=_a.primary,primary=void 0!==_b&&_b,children=_a.children;return primary?(0,jsx_runtime.jsx)(Form.Z,{children}):(0,jsx_runtime.jsx)("div",(0,tslib_es6.pi)({className:"rs-form rs-form-vertical rs-form-fixed-width"},{children}))},Field:function(props){var title=props.title,name=props.name,type=props.type,errors=props.errors,children=props.children,showLabel=(0,react.useMemo)((function(){return type!==EnumSchemeItemType.Checkbox&&type!==EnumSchemeItemType.Widget}),[type]);return(0,jsx_runtime.jsxs)(Form.Z.Group,(0,tslib_es6.pi)({controlId:name},{children:[showLabel&&(0,jsx_runtime.jsx)(Form.Z.ControlLabel,{children:title}),children,errors&&errors.length>0&&errors.map((function(error,index){return(0,jsx_runtime.jsx)("div",(0,tslib_es6.pi)({style:{color:"red"}},{children:error}),index)}))]}))},ArrayForm:Object.assign((function(props){return(0,jsx_runtime.jsx)(chakra_ui_layout_esm.kC,(0,tslib_es6.pi)({direction:"column",style:props.style},{children:props.children}))}),{Header:function(props){return(0,jsx_runtime.jsx)(chakra_ui_layout_esm.kC,(0,tslib_es6.pi)({direction:"row",backgroundColor:"gray.100",justify:"space-between",mb:3},{children:props.children}))},Tabs:function(props){return(0,jsx_runtime.jsx)(Nav.Z,(0,tslib_es6.pi)({appearance:props.actions?void 0:"tabs"},{children:props.children}))},Body:function(props){return(0,jsx_runtime.jsx)(chakra_ui_layout_esm.kC,(0,tslib_es6.pi)({direction:"column"},{children:props.children}))},TrashContainer:UiArrayFormTrashContainer}),Tab:UiTab};var templateObject_1,chakra_ui_icons_esm=__webpack_require__("../react-json-form/node_modules/@chakra-ui/icons/dist/chakra-ui-icons.esm.js");const icons={Tabs:{Remove:function(){return(0,jsx_runtime.jsx)(chakra_ui_icons_esm.pJ,{color:"red.400"})},Add:chakra_ui_icons_esm.dt}};const rsuite=(0,tslib_es6.pi)((0,tslib_es6.pi)({},ui),{Controls:controls,Icons:icons,Components:{JsonForm:function(props){var title=props.title,_a=props.header,header=void 0===_a?null:_a,_b=props.primary,primary=void 0===_b||_b,children=props.children,Ui=useJsonFormUi();return(0,jsx_runtime.jsx)(Ui.Container,{children:(0,jsx_runtime.jsx)(Panel.Z,(0,tslib_es6.pi)({header:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[title,header]}),shaded:!primary},{children}))})}}});var Box=__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js"),Menu=(__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/grommet/es6/components/Menu/Menu.js")),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Button=__webpack_require__("./node_modules/grommet/es6/components/Button/Button.js"),Layer=__webpack_require__("./node_modules/grommet/es6/components/Layer/Layer.js"),Close=__webpack_require__("./node_modules/grommet-icons/es6/icons/Close.js"),Trash=__webpack_require__("./node_modules/grommet-icons/es6/icons/Trash.js"),Up=__webpack_require__("./node_modules/grommet-icons/es6/icons/Up.js"),Down=__webpack_require__("./node_modules/grommet-icons/es6/icons/Down.js"),Edit=__webpack_require__("./node_modules/grommet-icons/es6/icons/Edit.js"),react_error_boundary_umd=__webpack_require__("../react-json-form/node_modules/react-error-boundary/dist/react-error-boundary.umd.js");const components_ErrorFallback=function ErrorFallback(_a){var error=_a.error,resetErrorBoundary=_a.resetErrorBoundary;return(0,jsx_runtime.jsxs)("div",(0,tslib_es6.pi)({role:"alert"},{children:[(0,jsx_runtime.jsx)("p",{children:"Something went wrong:"}),(0,jsx_runtime.jsx)("pre",{children:error.message}),(0,jsx_runtime.jsx)("button",(0,tslib_es6.pi)({onClick:resetErrorBoundary},{children:"Try again"}))]}))};var useDefSchemeValue=function(scheme){return(0,react.useMemo)((function(){return function(scheme){return scheme.reduce((function(new_value,current){var _a;return(0,tslib_es6.pi)((0,tslib_es6.pi)({},new_value),((_a={})[current.name]=current.def_value,_a))}),{})}(scheme)}),[scheme])},Button_Button=(__webpack_require__("../react-json-form/node_modules/react-datepicker/dist/react-datepicker.css"),__webpack_require__("../react-json-form/node_modules/grommet/es6/components/Button/Button.js"));const Inputs_GeoSelect=function(props){var value=props.value,onChange=props.onChange,onTest=props.onTest,_a=props.value,_b=_a.address,address=void 0===_b?"":_b,_c=_a.lat,lat=void 0===_c?0:_c,_d=_a.lng,lng=void 0===_d?0:_d;return(0,jsx_runtime.jsxs)("div",(0,tslib_es6.pi)({className:"geo-select-inline"},{children:[(0,jsx_runtime.jsx)("input",{placeholder:"Адрес",name:"address",type:"text",value:address,className:"form-control",onChange:function(e){var _a=value.lat,lat=void 0===_a?0:_a,_b=value.lng,lng=void 0===_b?0:_b;onChange({address:e.currentTarget.value,lat,lng})},onBlur:function(e){var _a=props.value,_b=_a.lat,lat=void 0===_b?0:_b,_c=_a.lng,lng=void 0===_c?0:_c;onTest({address:e.currentTarget.value,lat,lng})}}),(0,jsx_runtime.jsx)("input",{name:"lat",type:"text",value:lat,className:"form-control",onChange:function(e){var _a=value.address,address=void 0===_a?"":_a,_b=value.lng,lng=void 0===_b?0:_b;onChange({address,lat:e.currentTarget.value,lng})},onBlur:function(e){var _a=value.address,address=void 0===_a?"":_a,_b=value.lng,lng=void 0===_b?0:_b;onTest({address,lat:e.currentTarget.value,lng})}}),(0,jsx_runtime.jsx)("input",{name:"lng",type:"text",value:lng,className:"form-control",onChange:function(e){var _a=value.lat,lat=void 0===_a?0:_a,_b=value.address;onChange({address:void 0===_b?"":_b,lat,lng:e.currentTarget.value})},onBlur:function(e){var _a=value.lat,lat=void 0===_a?0:_a,_b=value.address;onTest({address:void 0===_b?"":_b,lat,lng:e.currentTarget.value})}}),(0,jsx_runtime.jsx)(Button_Button.z,(0,tslib_es6.pi)({onClick:function(){}},{children:"Выбрать на карте"}))]}))};const input=function(props){var _a=props.name,name=void 0===_a?"":_a,_b=props.value,value=void 0===_b?"":_b,type=props.type,title=props.title,_c=props.settings,settings=void 0===_c?{}:_c,_d=props.onChange,onChange=void 0===_d?index_all.ZT:_d,_e=props.onBlur,onBlur=void 0===_e?index_all.ZT:_e,Ui=useJsonFormUi();try{if("geo"==type)return(0,jsx_runtime.jsx)(Inputs_GeoSelect,{name,value,onChange,onTest:onBlur});if(type==EnumSchemeItemType.Files)return null;if(type==EnumSchemeItemType.Widget){var _settings=settings;return(0,jsx_runtime.jsx)(esm_JsonForm,(0,tslib_es6.pi)({value,title,primary:!1},_settings,{onChange}))}return type==EnumSchemeItemType.Select?(0,jsx_runtime.jsx)(Ui.Controls.Select,(0,tslib_es6.pi)({},props)):type===EnumSchemeItemType.Date?(0,jsx_runtime.jsx)(Ui.Controls.Date,(0,tslib_es6.pi)({},props)):type===EnumSchemeItemType.Checkbox?(0,jsx_runtime.jsx)(Ui.Controls.CheckBox,(0,tslib_es6.pi)({},props)):type==EnumSchemeItemType.TextBlock?(0,jsx_runtime.jsx)(Ui.Controls.TextBlock,(0,tslib_es6.pi)({},props)):(0,jsx_runtime.jsx)(Ui.Controls.Input,(0,tslib_es6.pi)({},props))}catch(e){return console.error("Error <Input {...".concat(JSON.stringify(props)," }>:")),console.error(e),(0,jsx_runtime.jsx)("div",(0,tslib_es6.pi)({className:"alert alert-danger"},{children:e.message}))}};var esm=__webpack_require__("../react-json-form/node_modules/@undermuz/use-form/build/esm/index.js"),formContext=__webpack_require__("../react-json-form/node_modules/@undermuz/use-form/build/esm/connectToForm/formContext.js"),connectToForm=__webpack_require__("../react-json-form/node_modules/@undermuz/use-form/build/esm/connectToForm/index.js");const esm_FlatForm=function(props){var scheme=props.scheme,value=props.value,_a=props.primary,primary=void 0!==_a&&_a,onChange=props.onChange,Ui=useJsonFormUi(),form=(0,esm.ZP)(function(scheme,value,onChange){return(0,react.useMemo)((function(){var config={fields:{},options:{debug:!0},value,onChange};return scheme.forEach((function(item){config.fields[item.name]={label:item.title,rules:item.rules,initialValue:item.def_value}})),config}),[scheme,value,onChange])}(scheme,value,onChange));return(0,react.useEffect)((function(){var new_value={};scheme.forEach((function(scheme_item){var name=scheme_item.name,_a=scheme_item.type,type=void 0===_a?EnumSchemeItemType.Text:_a,def_value=function(item){var _a=item.def_value,def_value=void 0===_a?"":_a,_b=item.type,type=void 0===_b?EnumSchemeItemType.Text:_b,_c=item.settings,settings=void 0===_c?{}:_c,_d=item.multiple;if(def_value)return def_value;if("checkbox"==type)return!1;if("files"==type)return[];if("widget"==type)return void 0!==_d&&_d?[]:{};if(type==EnumSchemeItemType.GeoCoordinates)return{address:"",lat:0,lng:0};if("select"==type){if(settings.multiple)return[];if(!settings.options||!settings.options.length)return 0}return def_value}(scheme_item);value[name]||(type===EnumSchemeItemType.Widget||type!==EnumSchemeItemType.Checkbox)&&(new_value[name]=def_value)})),console.log("[FlatForm][Set default values]",(0,tslib_es6.pi)((0,tslib_es6.pi)({},value),new_value)),onChange((0,tslib_es6.pi)((0,tslib_es6.pi)({},value),new_value))}),[]),(0,jsx_runtime.jsx)(formContext.ZP.Provider,(0,tslib_es6.pi)({value:form},{children:(0,jsx_runtime.jsx)(Ui.FlatForm,(0,tslib_es6.pi)({primary},{children:scheme.map((function(scheme_item,index){var title=scheme_item.title,name=scheme_item.name,_a=scheme_item.type,type=void 0===_a?EnumSchemeItemType.Widget:_a,_b=scheme_item.settings,settings=void 0===_b?{}:_b,field_settings={};if(type==EnumSchemeItemType.Widget){var scheme_1=scheme_item.scheme,_c=scheme_item.multiple;field_settings={scheme:scheme_1,multiple:void 0!==_c&&_c}}else type==EnumSchemeItemType.Select?field_settings=settings:type==EnumSchemeItemType.Files&&(field_settings={settings});return(0,jsx_runtime.jsx)(Ui.Field,(0,tslib_es6.pi)({isLast:index===scheme.length-1,type,name,primary,title,errors:form.errors[name]},{children:(0,jsx_runtime.jsx)(connectToForm.Z,(0,tslib_es6.pi)({name},{children:(0,jsx_runtime.jsx)(input,{type,title,settings:field_settings})}))}),index)}))}))}))};var core_esm=__webpack_require__("../react-json-form/node_modules/@dnd-kit/core/dist/core.esm.js"),sortable_esm=__webpack_require__("../react-json-form/node_modules/@dnd-kit/sortable/dist/sortable.esm.js"),utilities_esm=__webpack_require__("../react-json-form/node_modules/@dnd-kit/utilities/dist/utilities.esm.js"),array_move=__webpack_require__("../react-json-form/node_modules/array-move/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),SortableTab=function(_a){var tabId=_a.tabId,props=(0,tslib_es6._T)(_a,["tabId"]),Ui=useJsonFormUi(),_b=(0,sortable_esm.nB)({id:tabId}),attributes=_b.attributes,listeners=_b.listeners,setNodeRef=_b.setNodeRef,transform=_b.transform,transition=_b.transition,style={transform:utilities_esm.ux.Transform.toString(transform),transition};return(0,jsx_runtime.jsx)(Ui.Tab,(0,tslib_es6.pi)({},props,{ref:setNodeRef,style},attributes,listeners))},TrashDroppable=function(){var Ui=useJsonFormUi(),_a=(0,core_esm.Zj)({id:"trash"}),isOver=_a.isOver,setNodeRef=_a.setNodeRef;return(0,jsx_runtime.jsx)(Ui.ArrayForm.TrashContainer,{isOver,ref:setNodeRef,label:"Отпустите чтобы удалить"})},SortableList=function(_a){var tabs=_a.tabs,onSortEnd=_a.onSortEnd,children=_a.children,_b=(0,react.useState)(null),activeId=_b[0],setActiveId=_b[1],sensors=(0,core_esm.Dy)((0,core_esm.VT)(core_esm.we,{activationConstraint:{distance:20}})),currentIndex=(0,react.useMemo)((function(){return tabs.findIndex((function(_i){return _i.id===activeId}))}),[tabs,activeId]),collisionDetectionStrategy=(0,react.useCallback)((function(args){var pointerIntersections=(0,core_esm.j2)(args),intersections=pointerIntersections.length>0?pointerIntersections:(0,core_esm.Xo)(args),overId=(0,core_esm._8)(intersections,"id");return"trash"===overId?intersections:(console.log("[collisionDetectionStrategy][Over: ".concat(overId,"]"),args),null!==overId?(0,core_esm.pE)(args):[])}),[activeId,tabs]);return(0,jsx_runtime.jsxs)(core_esm.LB,(0,tslib_es6.pi)({sensors,collisionDetection:collisionDetectionStrategy,onDragEnd:function(event){console.log("[onDragEnd]",event),setActiveId(null),onSortEnd(event)},onDragStart:function(event){setActiveId(event.active.id)}},{children:[(0,jsx_runtime.jsx)(sortable_esm.Fo,(0,tslib_es6.pi)({id:"list",items:tabs,strategy:sortable_esm.PG},{children})),(0,react_dom.createPortal)((0,jsx_runtime.jsx)(core_esm.y9,{children:currentIndex>-1?(0,jsx_runtime.jsx)(SortableTab,{tabId:activeId,label:"#".concat(currentIndex+1)}):null}),document.body),null!==activeId&&(0,jsx_runtime.jsx)(TrashDroppable,{})]}))},ArrayFormItem=function(props){var id=props.id,value=props.value,scheme=props.scheme,_a=props.primary,primary=void 0!==_a&&_a,onChange=props.onChange;(0,react.useEffect)((function(){id||console.error("ArrayFormItem: props id is required")}),[]);return(0,jsx_runtime.jsx)(esm_FlatForm,{primary,scheme,value,onChange:function(newValue){onChange(newValue,id)}})};const esm_ArrayForm=function(props){var value=props.value,scheme=props.scheme,_a=props.primary,primary=void 0!==_a&&_a,defValue=props.defValue,onChange=props.onChange,Ui=useJsonFormUi(),tabs=value,_b=(0,react.useState)((function(){return(0,index_all.kJ)(value)&&value.length>0?value[0].id:1})),tab=_b[0],setTab=_b[1],handleChange=(0,react.useCallback)((function(newValue,id){void 0===id&&(id=null);var _newValue=value.map((function(item){return item.id==id?(0,tslib_es6.pi)((0,tslib_es6.pi)({},item),newValue):item}));onChange(_newValue)}),[value,onChange]),handleRemoveTab=function(tab_id){var _value=value;if(_value.length>1&&window.confirm("Вы действительно хотите удалить?")){var new_value=_value.filter((function(tab){return tab.id!=tab_id}));onChange(new_value),tab==tab_id&&setTab(new_value[0].id)}},currentItem=(0,react.useMemo)((function(){var item=value.find((function(_i){return _i.id===tab}));return item||null}),[value,tab]);return(0,jsx_runtime.jsxs)(Ui.ArrayForm,(0,tslib_es6.pi)({style:{position:"relative",zIndex:1}},{children:[(0,jsx_runtime.jsxs)(Ui.ArrayForm.Header,{children:[(0,jsx_runtime.jsx)(Ui.ArrayForm.Tabs,{children:(0,jsx_runtime.jsx)(SortableList,(0,tslib_es6.pi)({tabs,onSortEnd:function(event){var active=event.active,over=event.over;if(active&&over&&active.id!==over.id){if("trash"===over.id)return void handleRemoveTab(active.id);var oldIndex=value.findIndex((function(_i){return _i.id===active.id})),newIndex=value.findIndex((function(_i){return _i.id===over.id}));onChange((0,array_move.q)(value,oldIndex,newIndex))}}},{children:tabs.map((function(val,index){return(0,jsx_runtime.jsx)(SortableTab,{label:"#".concat(index+1),tabId:val.id,active:tab===val.id,onSelect:function(){return setTab(val.id)}},val.id)}))}))}),(0,jsx_runtime.jsxs)(Ui.ArrayForm.Tabs,(0,tslib_es6.pi)({actions:!0},{children:[(0,jsx_runtime.jsx)(Ui.Tab,(0,tslib_es6.pi)({onSelect:function(){return handleRemoveTab(tab)}},{children:(0,jsx_runtime.jsx)(Ui.Icons.Tabs.Remove,{})})),(0,jsx_runtime.jsx)(Ui.Tab,(0,tslib_es6.pi)({onSelect:function(){var _value=value,def_value=(0,tslib_es6.pi)((0,tslib_es6.pi)({},defValue),{id:Math.max.apply(Math,_value.map((function(item){return item.id})))+1}),newList=(0,tslib_es6.ev)((0,tslib_es6.ev)([],_value,!0),[def_value],!1);onChange(newList),setTab(newList.length-1)}},{children:(0,jsx_runtime.jsx)(Ui.Icons.Tabs.Add,{})}))]}))]}),(0,jsx_runtime.jsx)(Ui.ArrayForm.Body,{children:null!==currentItem&&(0,jsx_runtime.jsx)(ArrayFormItem,{id:currentItem.id,primary,scheme,value:currentItem,onChange:handleChange},currentItem.id)})]}))};const esm_JsonForm=function(props){var Ui,rawComponents,_a=props.multiple,multiple=void 0!==_a&&_a,_b=props.primary,primary=void 0===_b||_b,_c=props.scheme,scheme=void 0===_c?[]:_c,onChange=props.onChange,defValue=useDefSchemeValue(scheme),value=function(unsafeValue,defValue,multiple){return void 0===multiple&&(multiple=!1),(0,react.useMemo)((function(){return void 0===unsafeValue||!multiple&&0===Object.keys(unsafeValue).length||multiple&&(!(0,index_all.kJ)(unsafeValue)||0==unsafeValue.length)?multiple?[(0,tslib_es6.pi)((0,tslib_es6.pi)({},defValue),{id:1})]:(0,tslib_es6.pi)({},defValue):unsafeValue}),[unsafeValue,multiple,defValue])}(props.value,defValue,multiple),handleChange=(0,react.useCallback)((function(newValue){onChange((0,tslib_es6.pi)((0,tslib_es6.pi)({},value),newValue))}),[value,onChange]),Components=(Ui=(0,react.useContext)(UiContext),rawComponents={},(null==Ui?void 0:Ui.Components)&&(rawComponents=null==Ui?void 0:Ui.Components),(0,tslib_es6.pi)({JsonForm:JsonFormComponent},rawComponents));return(0,jsx_runtime.jsx)(react_error_boundary_umd.ErrorBoundary,(0,tslib_es6.pi)({FallbackComponent:components_ErrorFallback,onReset:function(){}},{children:(0,jsx_runtime.jsxs)(Components.JsonForm,(0,tslib_es6.pi)({},props,{children:[multiple&&(0,jsx_runtime.jsx)(esm_ArrayForm,{primary,scheme,defValue,value,onChange}),!multiple&&(0,jsx_runtime.jsx)(esm_FlatForm,{primary,scheme,value,onChange:handleChange})]}))}))},build_esm=esm_JsonForm;var _templateObject,_templateObject2;function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}var BlockEditForm=function BlockEditForm(props){var id=props.id,scheme=props.scheme,value=props.value,theme=props.theme,onChange=props.onChange,onClose=props.onClose,handleChange=(0,react.useCallback)((function(value){onChange(id,value)}),[id,onChange]);return scheme?(0,jsx_runtime.jsx)(esm_UiContext.Provider,{value:theme,children:(0,jsx_runtime.jsx)(build_esm,Object.assign({},scheme,{value,header:(0,jsx_runtime.jsx)(Button.z,{size:"small",hoverIndicator:!0,label:"Close",icon:(0,jsx_runtime.jsx)(Close.x,{size:"small"}),onClick:onClose}),onChange:handleChange}))}):null};BlockEditForm.displayName="BlockEditForm";var ActionBar=(0,styled_components_browser_esm.default)(Box.x)(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(["\n    position: absolute;\n    top: 10px;\n    left: 0px;\n    width: 100%;\n\n    opacity: 0;\n    transition: opacity 0.2s;\n"]))),Cont=(0,styled_components_browser_esm.default)(Box.x)(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(["\n    position: relative;\n    flex-shrink: 0;\n\n    :hover {\n        "," {\n            opacity: 1;\n        }\n    }\n"])),ActionBar),BlockItem=function BlockItem(props){var id=props.id,value=props.value,block=props.block,editFormTheme=props.editFormTheme,onChange=props.onChange,_useState2=_slicedToArray((0,react.useState)(!1),2),isEditing=_useState2[0],setEditing=_useState2[1],WidgetView=block.view,scheme=block.scheme,handleRemove=(0,react.useCallback)((function(){window.confirm("Вы действительно хотите удалить виджет?")&&props.onRemove(id)}),[id]);return WidgetView?(0,jsx_runtime.jsxs)(Cont,{children:[isEditing&&(0,jsx_runtime.jsx)(Layer.m,{children:(0,jsx_runtime.jsx)(Box.x,{width:"large",children:(0,jsx_runtime.jsx)(BlockEditForm,{id,scheme,value,theme:editFormTheme,onChange,onClose:function onClose(){return setEditing(!1)}})})}),(0,jsx_runtime.jsxs)(ActionBar,{direction:"row",justify:"between",pad:"small",background:{color:"dark-1",opacity:"weak"},children:[(0,jsx_runtime.jsx)(Box.x,{direction:"row",children:(0,jsx_runtime.jsx)(Box.x,{round:"full",overflow:"hidden",background:"status-critical",children:(0,jsx_runtime.jsx)(Button.z,{size:"small",hoverIndicator:!0,icon:(0,jsx_runtime.jsx)(Trash.r,{size:"small"}),onClick:handleRemove})})}),(0,jsx_runtime.jsxs)(Box.x,{direction:"row",children:[(0,jsx_runtime.jsx)(Button.z,{size:"small",hoverIndicator:!0,onClick:function onClick(){return props.onMoveUp(id)},icon:(0,jsx_runtime.jsx)(Up.Up,{size:"small"})}),(0,jsx_runtime.jsx)(Button.z,{size:"small",hoverIndicator:!0,onClick:function onClick(){return props.onMoveDown(id)},icon:(0,jsx_runtime.jsx)(Down.R,{size:"small"})}),(0,jsx_runtime.jsx)(Button.z,{size:"small",primary:!0,hoverIndicator:!0,icon:(0,jsx_runtime.jsx)(Edit.I,{size:"small"}),label:"Редактировать",onClick:function onClick(){return setEditing(!0)}})]})]}),(0,jsx_runtime.jsx)(Box.x,{children:(0,jsx_runtime.jsx)(WidgetView,{id,value})})]}):null};BlockItem.displayName="BlockItem";const blocks_editor_item=BlockItem;try{item.displayName="item",item.__docgenInfo={description:"",displayName:"item",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"BlockValue"}},block:{defaultValue:null,description:"",name:"block",required:!0,type:{name:"IBlock"}},editFormTheme:{defaultValue:null,description:"",name:"editFormTheme",required:!0,type:{name:"JsonFormUi"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"Function"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"Function"}},onMoveUp:{defaultValue:null,description:"",name:"onMoveUp",required:!0,type:{name:"Function"}},onMoveDown:{defaultValue:null,description:"",name:"onMoveDown",required:!0,type:{name:"Function"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/blocks-editor/item.tsx#item"]={docgenInfo:item.__docgenInfo,name:"item",path:"src/blocks-editor/item.tsx#item"})}catch(__react_docgen_typescript_loader_error){}var node_modules_array_move=__webpack_require__("./node_modules/array-move/index.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return blocks_editor_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function blocks_editor_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return blocks_editor_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return blocks_editor_arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function blocks_editor_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var BlockWrapper=function BlockWrapper(props){var item=props.item,library=props.library,methods=props.methods,editFormTheme=props.editFormTheme,block=(0,react.useMemo)((function(){return library.find((function(_b){return _b.id===item.blockId}))}),[item.blockId,library]);return block?(0,jsx_runtime.jsx)(blocks_editor_item,Object.assign({},item,methods,{block,editFormTheme})):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["(Block #",item.blockId," not found)"]})};BlockWrapper.displayName="BlockWrapper";var BlocksEditor=function BlocksEditor(props){var library=props.library,value=props.value,editFormTheme=props.editFormTheme,onChange=props.onChange,getUid=(0,react.useCallback)((function(){for(var uid=Math.floor(7e5*Math.random()),exist=value.filter((function(item){return item.id==uid})).length>0;exist;)uid=Math.floor(7e5*Math.random()),exist=value.filter((function(item){return item.id==uid})).length>0;return uid}),[value]),onChangeBlock=(0,react.useCallback)((function(blockId,blockValue){onChange(value.map((function(item){return item.id!==blockId?item:Object.assign({},item,{value:blockValue})})))}),[value,onChange]),handleAdd=(0,react.useCallback)((function(blockId){var widget=library.find((function(_w){return _w.id===blockId}));if(!widget)throw new Error("Widget not found");var def_value=widget.value,item={id:getUid(),value:def_value,blockId};onChange([].concat(_toConsumableArray(value),[item]))}),[value,onChange]),onRemove=(0,react.useCallback)((function(id){onChange(value.filter((function(_i){return _i.id!==id})))}),[value,onChange]),onMoveUp=(0,react.useCallback)((function(id){var i=value.findIndex((function(_i){return _i.id===id}));0!==i&&onChange((0,node_modules_array_move.q)(value,i,i-1))}),[value,onChange]),onMoveDown=(0,react.useCallback)((function(id){var i=value.findIndex((function(_i){return _i.id===id}));i!==value.length-1&&onChange((0,node_modules_array_move.q)(value,i,i+1))}),[value,onChange]),blockMethods=(0,react.useMemo)((function(){return{onChange:onChangeBlock,onRemove,onMoveUp,onMoveDown}}),[onChangeBlock,onRemove,onMoveUp,onMoveDown]);return(0,jsx_runtime.jsxs)(Box.x,{direction:"column",children:[(0,jsx_runtime.jsx)(Box.x,{direction:"row",justify:"between",pad:"small",background:{color:"dark-1",opacity:"weak"},children:(0,jsx_runtime.jsx)(Menu.v,{label:"Add a block",items:library.map((function(block){return{label:block.title,onClick:function onClick(){return handleAdd(block.id)}}}))})}),value.map((function(item,index){return(0,jsx_runtime.jsx)(BlockWrapper,{item,library,methods:blockMethods,editFormTheme},index)}))]})};BlocksEditor.displayName="BlocksEditor";const blocks_editor=BlocksEditor;try{blockseditor.displayName="blockseditor",blockseditor.__docgenInfo={description:"",displayName:"blockseditor",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"IBlockResultValue[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(v: IBlockResultValue[]) => void"}},library:{defaultValue:null,description:"",name:"library",required:!0,type:{name:"IBlock[]"}},editFormTheme:{defaultValue:null,description:"",name:"editFormTheme",required:!0,type:{name:"JsonFormUi"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/blocks-editor/index.tsx#blockseditor"]={docgenInfo:blockseditor.__docgenInfo,name:"blockseditor",path:"src/blocks-editor/index.tsx#blockseditor"})}catch(__react_docgen_typescript_loader_error){}var Heading=__webpack_require__("./node_modules/grommet/es6/components/Heading/Heading.js"),Paragraph=__webpack_require__("./node_modules/grommet/es6/components/Paragraph/Paragraph.js"),DEF_VALUE={title:"Мы лучшие в мире!",subtitle:"Закажите сейчас и получите скидку 50%",button_text:"Заказать",show_button:!0,show_adv:!0,image:null,advantage:[{id:1,title:"С нами проще",image:""},{id:2,title:"Выгода при первой покупке",image:""},{id:3,title:"Рост на 146%",image:""}]},exampleButtonClick=function exampleButtonClick(){alert("click")},OfferBlock=function OfferBlock(props){var _props$value=props.value,value=void 0===_props$value?DEF_VALUE:_props$value,_props$onButtonClick=props.onButtonClick,onButtonClick=void 0===_props$onButtonClick?exampleButtonClick:_props$onButtonClick,_value$title=value.title,title=void 0===_value$title?DEF_VALUE.title:_value$title,_value$subtitle=value.subtitle,subtitle=void 0===_value$subtitle?DEF_VALUE.subtitle:_value$subtitle,_value$show_button=value.show_button,show_button=void 0===_value$show_button?DEF_VALUE.show_button:_value$show_button,_value$button_text=value.button_text,button_text=void 0===_value$button_text?DEF_VALUE.button_text:_value$button_text,_value$show_adv=value.show_adv,show_adv=void 0===_value$show_adv?DEF_VALUE.show_adv:_value$show_adv,_value$advantage=value.advantage,advantage=void 0===_value$advantage?DEF_VALUE.advantage:_value$advantage;return(0,jsx_runtime.jsxs)(Box.x,{background:{color:"neutral-2",opacity:!0},children:[(0,jsx_runtime.jsxs)(Box.x,{pad:"xlarge",align:"center",children:[(0,jsx_runtime.jsx)(Heading.X,{children:title}),(0,jsx_runtime.jsx)(Paragraph.n,{children:subtitle}),show_button&&(0,jsx_runtime.jsx)(Box.x,{children:(0,jsx_runtime.jsx)(Button.z,{primary:!0,size:"large",onClick:onButtonClick,label:button_text})})]}),show_adv&&advantage.length>0&&(0,jsx_runtime.jsx)(Box.x,{pad:"large",background:{color:"neutral-2"},children:(0,jsx_runtime.jsx)(Box.x,{direction:"row",justify:"around",children:advantage.map((function(item,index){return(0,jsx_runtime.jsxs)(Box.x,{children:[(0,jsx_runtime.jsx)("img",{src:item.image,alt:""}),(0,jsx_runtime.jsx)("span",{children:item.title})]},index)}))})})]})};OfferBlock.displayName="OfferBlock";var scheme={id:"Offer",name:"Offer",scheme:[{name:"title",title:"Заголовок",type:EnumSchemeItemType.Text,def_value:""},{name:"subtitle",title:"Подзаголовок",type:EnumSchemeItemType.TextBlock,def_value:""},{name:"button_text",title:"Текст кнопки",type:EnumSchemeItemType.Text,def_value:""},{name:"show_button",title:"Показывать кнопку?",type:EnumSchemeItemType.Checkbox,def_value:!0},{name:"show_adv",title:"Показывать преимущества",type:EnumSchemeItemType.Checkbox,def_value:!0},{name:"image",title:"Изображение",type:EnumSchemeItemType.Files,def_value:""},{name:"advantage",title:"Преимущества",type:EnumSchemeItemType.Widget,multiple:!0,def_value:"",scheme:[{name:"title",title:"Заголовок",type:EnumSchemeItemType.Text,def_value:""},{name:"image",title:"Изображение",type:EnumSchemeItemType.Files,def_value:""}]}],single:!0,multiple:!1,title:"Оффер"};const blocks_Offer={id:"Offer",title:"Оффер",description:"Оффер с преимуществами",image:"/pic/5aec67ad9e3e1ee17dc8717d1e23e8c5zXnwX.png",value:DEF_VALUE,scheme,view:OfferBlock};__webpack_require__("./node_modules/rsuite/styles/index.less");function PageBuilder_stories_slicedToArray(arr,i){return function PageBuilder_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function PageBuilder_stories_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function PageBuilder_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return PageBuilder_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PageBuilder_stories_arrayLikeToArray(o,minLen)}(arr,i)||function PageBuilder_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PageBuilder_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var library=[blocks_Offer],PageBuilderStory=function PageBuilderStory(){var _useState2=PageBuilder_stories_slicedToArray((0,react.useState)([]),2),value=_useState2[0],setValue=_useState2[1];return(0,jsx_runtime.jsx)(Box.x,{direction:"column",fill:!0,children:(0,jsx_runtime.jsx)(blocks_editor,{value,editFormTheme:rsuite,onChange:function onChange(v){return setValue(v)},library})})};PageBuilderStory.displayName="PageBuilderStory";var Template=function Template(args){return(0,jsx_runtime.jsx)(PageBuilderStory,Object.assign({},args))};Template.displayName="Template";var ExamplePageBuilder=Template.bind({});ExamplePageBuilder.args={};const PageBuilder_stories={title:"Example/PageBuilder",component:PageBuilderStory};ExamplePageBuilder.parameters=Object.assign({storySource:{source:"(args) => {\n    return <PageBuilderStory {...args} />\n}"}},ExamplePageBuilder.parameters);var __namedExportsOrder=["ExamplePageBuilder"]},"./storybook-init-framework-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./stories/PageBuilder.stories.tsx":"./src/stories/PageBuilder.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"?4f7e":()=>{},"./generated-stories-entry.cjs":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[355],(()=>(__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-interactions/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs"))));__webpack_require__.O()}]);